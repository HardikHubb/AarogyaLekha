<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Records</title>
    <link rel="stylesheet" href="patient-data-display-design.css"> <!-- Link to CSS -->
    <link rel="stylesheet" href="https://icdcdn.who.int/embeddedct/icd11ect-1.7.1.css">
    <!-- Select2 CSS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet">
<!-- jQuery (Required for Select2) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!-- Select2 JS -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>

</head>
<body>
    <nav class="navbar">
        <div class="navbar-left">
            <a href="Homepage.html" id="logo">
          <img src="res/blacknobackground-removebg-preview.png" alt="App Logo" class="logo">
            </a>
          <span class="app-name" data-translate="al">Aarogya Lekha</span>
          
        </div>
    <div class="tabs">
        <button class="tab-button active" onclick="openTab(event, 'patient-details')">Patient Details</button>
        <button class="tab-button" onclick="openTab(event, 'medical-history')">Medical History</button>
        <button class="tab-button" onclick="openTab(event, 'chronic-diseases')">Chronic Diseases</button>
        <button class="tab-button" onclick="openTab(event, 'lab-reports')">Lab Reports</button>
        <button class="tab-button" onclick="openTab(event, 'print-export')">Print & Export</button>
    </div>
    </nav>
    <div id="print-area">
    <!-- Tab Content Sections -->
    <div id="patient-details" class="tab-content active" data-tab="patient-details">
        <h2>Patient Details</h2>
        <div class="image-container">
            <img src="https://via.placeholder.com/150" alt="Patient Img" class="patient-photo" id="patientImage">
        </div>
        <div id="patient-info"> 
            <div class="loader"></div>
        </div>
    </div>

    <div id="medical-history" class="tab-content" data-tab="medical-history">
        <form id="disease-form" onsubmit="event.preventDefault();">
        <div class="form-group">
        <h1>Medical History</h1>
        <h2>Enter Disease Details</h2>
        <div class="form-container">
            <p id="selet-diseases-para">Select Diseases:</p>
            <link href='https://clinicaltables.nlm.nih.gov/autocomplete-lhc-versions/19.2.4/autocomplete-lhc.min.css' rel="stylesheet">
            <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js'></script>
            <script src='https://clinicaltables.nlm.nih.gov/autocomplete-lhc-versions/19.2.4/autocomplete-lhc.min.js'></script>
            
            <input type="text" id="condition" placeholder="Condition">
           
            </div>
        
                <div class="form-group">
                    <label for="symptoms">Symptoms:</label>
                    <input type="text" id="symptoms" name="symptoms" required>
                </div>
        
                <div class="form-group">
                    <label for="doctor">Assigned Doctor:</label>
                    <input type="text" id="doctor" name="doctor" required>
                </div>
        
                <div class="form-group">
                    <label for="admit-date">Diagnosis Date:</label>
                    <input type="date" id="admit-date" name="admit-date" required>
                </div>
        
                <div class="form-group">
                    <label for="medication">Prescribed Medication:</label>
                    <textarea rows="3" id="medication" name="medication" required></textarea>
                </div>

        
                <div class="form-group">
                    <label for="remarks">Remarks:</label>
                    <textarea rows="3" id="remarks" name="remarks"></textarea>
                </div>
        
                <button type="submit" id="save-btn" class="save-btn">Save</button>
            </form>
            <h3 id="patientdisease">Patient Disease History</h3>
<div id="disease-container">
    <p>No records available</p> 
</div>
        </div>

        
</div>
    <div id="chronic-diseases" class="tab-content" data-tab="chronic-diseases">
        
            <div class="form-group">
                <h1>Chronic Disease History</h1>
                <h2>Enter Disease Details</h2>
                <div class="form-container">
                    <form id="chronic-disease-form">
                        
                        <label for="chronic-disease-select">Select Chronic Disease:</label>
                        <select id="chronic-disease-select" name="chronic-disease" class="searchable-select">
                            <option value="">Select Disease</option>
                            <option value="diabetes">Diabetes</option>
                            <option value="hypertension">Hypertension (High Blood Pressure)</option>
                            <option value="asthma">Asthma</option>
                            <option value="copd">Chronic Obstructive Pulmonary Disease (COPD)</option>
                            <option value="arthritis">Arthritis</option>
                            <option value="osteoporosis">Osteoporosis</option>
                            <option value="ckd">Chronic Kidney Disease</option>
                            <option value="parkinsons">Parkinson's Disease</option>
                            <option value="alzheimers">Alzheimer's Disease</option>
                            <option value="ms">Multiple Sclerosis</option>
                            <option value="lupus">Lupus</option>
                            <option value="psoriasis">Psoriasis</option>
                            <option value="hiv">HIV/AIDS</option>
                            <option value="heart-disease">Heart Disease</option>
                            <option value="epilepsy">Epilepsy</option>
                            <option value="ibs">Irritable Bowel Syndrome (IBS)</option>
                            <option value="crohns">Crohn's Disease</option>
                            <option value="cystic-fibrosis">Cystic Fibrosis</option>
                            <option value="hypothyroidism">Hypothyroidism</option>
                            <option value="migraine">Chronic Migraine</option>
                        </select>
                    </div>
                </div>
        
                <div class="form-group">
                    <label for="chronic-diagnosis-date">Date of Diagnosis:</label>
                    <input type="date" id="chronic-diagnosis-date" name="chronic-diagnosis-date" required>
                </div>
        
                <div class="form-group">
                    
                    <label for="chronic-current-symptoms">Symptoms:</label>
                    <input type="text" id="chronic-current-symptoms" name="chronic-current-symptoms" placeholder="Describe any ongoing symptoms">
        
                </div>
        
                <div class="form-group">
                    
                    <label for="chronic-current-medications">Medications:</label>
                    <textarea rows="3" id="chronic-current-medications" name="chronic-current-medications" placeholder="Prescribed drugs, dosage, frequency"></textarea>
        
                    <label for="chronic-current-therapy">Therapies:</label>
                    <input type="text" id="chronic-current-therapy" name="chronic-current-therapy" placeholder="E.g., physiotherapy, speech therapy">
        
                    <label for="chronic-surgeries">Surgeries:</label>
                    <textarea rows="3" id="chronic-surgeries" name="chronic-surgeries" placeholder="Prescribed drugs, dosage, frequency"></textarea>

                </div>
        
                <div class="form-group">
                    <label for="chronic-doctor">Assigned Doctor:</label>
                    <input type="text" id="chronic-doctor" name="chronic-doctor" required>
                </div>
        
                <div class="form-group">
                    <label for="chronic-remarks">Additional Remarks:</label>
                    <textarea rows="3" id="chronic-remarks" name="chronic-remarks"></textarea>
                </div>
        
                <button type="submit" id="save-btnc" class="save-btnc">Save</button>
            </form>
            <h3>Patient Disease History</h3>
            <div id="chronic-disease-container"></div>
    </div>
        </div>
        
    

    </div>
</div>

<div id="lab-reports" class="tab-content" data-tab="lab-reports">
    <h2>Lab Reports</h2>
    

    <form id="lab-report-form">

        <div class="form-group">
            <label for="report-type">Report Type:</label>
            <select id="report-type" name="report-type" required>
                <option value="">Select Report Type</option>
                <option value="CT Scan">CT Scan</option>
                <option value="X-ray">X-ray</option>
                <option value="MRI">MRI</option>
                <option value="Blood Test">Blood Test</option>
                <option value="Ultrasound">Ultrasound</option>
                <option value="Other">Other</option>
            </select>
        </div>

        <div class="form-group">
            <label for="report-date">Report Date:</label>
            <input type="date" id="report-date" name="report-date" required>
        </div>

        <div class="form-group">
            <label for="report-file">Upload Report:</label>
            <input type="file" id="report-file" name="report-file" accept=".pdf, .jpg, .png" required>
        </div>

        <p id="report-error" style="color: red;"></p> <!-- Error Message Display -->

        <button type="submit" id="save-report-btn" class="save-report-btn">Save Report</button>
    </form>
    <h2>Uploaded Lab Reports</h2>
    <div id="report-list" class="report-list">
        <p>Loading reports...</p>
    </div>
   
</div>


    <div id="print-export" class="tab-content" data-tab="print-export">

        <!-- 🔹 Hidden Printable Section -->
<div id="printSection" style="display: none;">
    <div id="printable-content">
        <img src="res/awdawd.png" id="applogoprint" alt="app logo">
        <h1 id="appnameprint">AarogyaLekha</h1>
        <h2>Patient Report</h2>
    <p><strong>Name:</strong> <span id="printName"></span></p>
    <p><strong>Gender:</strong> <span id="printGender"></span></p>
    <p><strong>Date of Birth:</strong> <span id="printDOB"></span></p>
    <p><strong>Age:</strong> <span id="printAge"></span></p>
    <p><strong>Address:</strong> <span id="printAddress"></span></p>
    <p><strong>Contact Number:</strong> <span id="printContact"></span></p>
    <p><strong>Secondary Contact:</strong> <span id="printSecondaryContact"></span></p>
    <p><strong>Blood Group:</strong> <span id="printBloodGroup"></span></p>
   
    
     <!-- 🔽 Medical History Section -->
     <div id="printDiseases"></div>
     <div id="printDiseases"></div>
<div id="printChronicDiseases"></div>
</div>
</div>

<!-- 🔹 Buttons -->
<button id="printButton" >🖨️ Print Report</button>
<button onclick="exportToPDF()">📄 Export as PDF</button>



    

    <!-- ✅ Include jsPDF & html2canvas -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>


    <script type="module" src="patient-data-display-script.js">

    </script> <!-- Link to JavaScript -->
    
    
</body>
</html>
